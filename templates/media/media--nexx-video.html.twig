{% if content %}
<div class="item-media item-media--nexx-video" itemscope="" itemtype="http://schema.org/videoObject">
    {{ attach_library('infinite_amp/amp.nexxtv-player') }}

    <div class="item-media__wrapper">
      <amp-nexxtv-player
        data-mediaid="{{ media.field_video.hash }}"
        data-client="{{ omnia_id }}"
        data-streamtype="video"
        data-mode="api"
        data-origin="https://embed.nexx.cloud/"
        data-streaming-filter="nxp-bitrate-2500"
        layout="responsive"
        width="480"
        height="270"
        data-block-on-consent
      ></amp-nexxtv-player>
      <div class="item-media__consent">
        <button on="tap:consent-element.prompt(),consent-ui-2.show,consent-ui-1.hide">Video laden</button>
      </div>
    </div>


    {% spaceless %}
        <meta itemprop="description" content="{{ content.field_description | render | striptags | trim | replace({"\n":' ', "\r":' '})}}" />
        <meta itemprop="name" content="{{ content.name | render | striptags | trim }}" />
        <meta itemprop="thumbnailURL" content="{{ file_url(media.field_preview_image.0.entity.field_image.0.entity.uri.0.value) }}" />
        <meta itemprop="uploadDate" content="{{ content.created }}" />
    {% endspaceless %}
    <div class="caption">
        {% if content.field_copyright|render  %}
            <div class="text-copyright">{{ content.field_copyright }}</div>
        {% endif %}
        {% if content.field_description|render %}
            <div class="text-description">{{ content.field_description }}</div>
        {% endif %}
    </div>
</div>
{% endif %}
